Marionette.TransitionRegion=Marionette.Region.extend({transitionInCss:{opacity:0},concurrentAnimation:!1,show:function(a,b){if(this._animatingOut)return this._setTransitionInCache(a,b),this;if(this._animatingIn)return this._setQueue(a,b),this._registerQueue(),this;this._setTransitionInCache(a,b),this._animatingOut=!0,this._ensureElement();var c=this._oldView=this.currentView,d=c&&_.isFunction(this.currentView.animateOut),e=this.getOption("concurrentAnimation");return d&&!e?(this.listenToOnce(c,"animateOut",_.bind(this._onTransitionOut,this)),c.animateOut(),this):d&&e?(c.animateOut(),this._onTransitionOut()):this._onTransitionOut()},_onTransitionOut:function(){this.triggerMethod("animateOut",this.currentView);var a=this._transitionInView,b=this._transitionInOptions;this._clearTransitionInCache(),this._animatingOut=!1,this._animatingIn=!0;var c=b||{},d=a!==this.currentView,e=!!c.preventDestroy,f=!!c.forceShow,g=!!this.currentView,h=_.isFunction(a.animateIn),i=!e&&d&&!this.getOption("concurrentAnimation");i&&this.empty({animate:!1});var j=d||f;if(!j)return this;if(a.render(),g&&this.triggerMethod("before:swap",a),this.triggerMethod("before:show",a),_.isFunction(a.triggerMethod)?a.triggerMethod("before:show"):this.triggerMethod.call(a,"before:show"),h){var k=a.transitionInCss||this.transitionInCss;a.$el.css(k)}return this.getOption("concurrentAnimation")?this.appendHtml(a):this.attachHtml(a),this.currentView=a,this.triggerMethod("show",a),_.isFunction(a.triggerMethod)?a.triggerMethod("show"):this.triggerMethod.call(a,"show"),h?(this.listenToOnce(a,"animateIn",_.bind(this._onTransitionIn,this,c)),a.animateIn(),this):this._onTransitionIn(c)},appendHtml:function(a){this.el.appendChild(a.el)},_onTransitionIn:function(a){var b=a.preventDestroy,c=this._oldView;return b||!c||c.isDestroyed||(c.destroy?c.destroy():c.remove&&c.remove()),delete this._oldView,this._animatingIn=!1,this.triggerMethod("animateIn",this.currentView),this},empty:function(a){a=a||{};var b=this.currentView;if(b&&!b.isDestroyed){var c=void 0===a.animate?!0:a.animate;c&&_.isFunction(b.animateOut)?(this.listenToOnce(this.currentView,"animateOut",_.bind(this._destroyView,this)),this.currentView.animateOut()):this._destroyView()}},_destroyView:function(){var a=this.currentView;a&&!a.isDestroyed&&(this.triggerMethod("before:empty",a),a.destroy?a.destroy():a.remove&&a.remove(),this.triggerMethod("empty",a),delete this.currentView)},_animateInView:function(a){return!!a.animateIn||!!a.animate||!!a.animateIn},_animateOutView:function(a){return!!a.animateOut||!!a.animate||!!a.animateOut},_setTransitionInCache:function(a,b){this._transitionInView=a,this._transitionInOptions=b},_clearTransitionInCache:function(){delete this._transitionInView,delete this._transitionInOptions},_setQueue:function(a,b){this._queuedView=a,this._queueOptions=b},_registerQueue:function(){return this._queued?!1:(this._queued=!0,void this.once("animateIn",_.bind(this._showQueue,this)))},_showQueue:function(){this.show(this._queuedView,this._queuedOptions),this._clearQueue(),this._queued=!1},_clearQueue:function(){delete this._queuedView,delete this._queuedOptions}});
//# sourceMappingURL=marionette.transition-region.min.js.map